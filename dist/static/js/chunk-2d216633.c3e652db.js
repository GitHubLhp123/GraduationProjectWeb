(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d216633"],{c1f5:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"handle-box"},[a("el-form",[a("el-form-item",[a("el-col",{attrs:{span:5}},[a("el-input",{attrs:{placeholder:"数据源名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getLogListData()}},model:{value:e.dsName,callback:function(t){e.dsName=t},expression:"dsName"}})],1),a("el-col",{attrs:{span:5}},[a("el-input",{attrs:{placeholder:"用户名"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getLogListData()}},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}})],1),a("el-col",{attrs:{span:5}},[a("el-input",{attrs:{placeholder:"sql"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getLogListData()}},model:{value:e.runSql,callback:function(t){e.runSql=t},expression:"runSql"}})],1),a("el-col",{attrs:{span:5}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.runTime,callback:function(t){e.runTime=t},expression:"runTime"}})],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:function(t){return e.getLogListData()}}})],1)],1)],1)],1),a("el-table",{ref:"logDataList",staticClass:"table",attrs:{data:e.logDataList,border:"","header-cell-class-name":"table-header"},model:{value:e.logDataList,callback:function(t){e.logDataList=t},expression:"logDataList"}},[a("el-table-column",{attrs:{prop:"dsName",label:"数据源名称",align:"left"}}),a("el-table-column",{attrs:{prop:"dsSchema",label:"Schema",align:"left"}}),a("el-table-column",{attrs:{prop:"dsType",label:"数据源类型",align:"center"}}),a("el-table-column",{attrs:{prop:"runSql",label:"执行语句",align:"left","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"userName",label:"执行者",align:"left"}}),a("el-table-column",{attrs:{prop:"runTime",label:"执行时间",align:"left"}}),a("el-table-column",{attrs:{prop:"resultType",label:"执行情况",align:"left"}}),a("el-table-column",{attrs:{prop:"copyContent",label:"复制内容",align:"center"}}),a("el-table-column",{attrs:{prop:"ipAddress",label:"执行ip地址",align:"center"}})],1),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.pageIndex,"page-sizes":[10,20,50,100],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},n=[],o=(a("f576"),a("a481"),a("3b2b"),a("6b54"),a("ec9b")),s={name:"logDataList",data:function(){return{logDataList:[],total:0,runSql:"",runTime:"",dsName:"",userName:"",pageSize:10,pageIndex:1}},created:function(){this.getLogListData()},computed:{setDateFormat:function(e){return e}},methods:{handleSizeChange:function(e){this.pageSize=e,console.log("每页 ".concat(e," 条")),this.getLogListData()},handleCurrentChange:function(e){this.pageIndex=e,console.log("当前页: ".concat(e)),this.getLogListData()},getLogListData:function(){var e=this;Object(o["a"])({url:"/ds/getRunSqlLog",methods:"get",params:{runSql:this.runSql,runTime:this.runTime,userName:this.userName,dsName:this.dsName,pageSize:this.pageSize,pageIndex:this.pageIndex}}).then((function(t){console.log(t),e.logDataList=t.data,e.total=t.dataLength})).catch((function(e){console.log("==================="),console.log(e)}))}}},r=s,i=a("2877"),c=Object(i["a"])(r,l,n,!1,null,"0cc765f1",null);t["default"]=c.exports}}]);