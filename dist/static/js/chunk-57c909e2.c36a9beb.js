(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-57c909e2","chunk-389a10c3"],{"06c5":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("6b75");function l(e,t){if(e){if("string"===typeof e)return Object(n["a"])(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(n["a"])(e,t):void 0}}},"1d69":function(e,t,a){},"1d89":function(e,t,a){"use strict";a("1d69")},2909:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("6b75");function l(e){if(Array.isArray(e))return Object(n["a"])(e)}function i(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}var s=a("06c5");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(e){return l(e)||i(e)||Object(s["a"])(e)||o()}},"4fb8":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{attrs:{type:"primary"}},[e._v("添加插件(开发中)")]),a("el-table",{attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"plugLabel",label:"标签符号"}}),a("el-table-column",{attrs:{prop:"plugName",label:"标签名"}}),a("el-table-column",{attrs:{prop:"createDt",label:"授权时间"}}),a("el-table-column",{attrs:{label:"操作",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-delete",circle:""},on:{click:function(a){return e.deletePlug(t.row.id)}}})]}}])})],1)],1)},l=[],i=(a("9612"),a("ec9b")),s={props:{teamName:String},components:{},data:function(){return{tableData:[]}},created:function(){this.getListData()},methods:{deletePlug:function(e){var t=this;Object(i["a"])({url:"/team/deletePlugById",methods:"get",params:{id:e}}).then((function(e){t.getListData()})).catch((function(e){console.log("==================="),console.log(e)}))},getListData:function(){var e=this;Object(i["a"])({url:"/team/getTeamPlug",methods:"get",params:{teamName:this.teamName}}).then((function(t){console.log(t),e.tableData=t.data})).catch((function(e){console.log("==================="),console.log(e)}))}}},o=s,r=(a("1d89"),a("2877")),c=Object(r["a"])(o,n,l,!1,null,null,null);t["default"]=c.exports},"6b75":function(e,t,a){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}a.d(t,"a",(function(){return n}))},"6fc5":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"用户管理",name:"first"}},[a("UserList",{attrs:{teamName:e.activeTeamName}})],1),a("el-tab-pane",{attrs:{label:"数据源管理",name:"second"}},[a("ds-list")],1),a("el-tab-pane",{attrs:{label:"层级管理",name:"third"}},[a("lavel-manager",{attrs:{teamName:e.activeTeamName}})],1),a("el-tab-pane",{attrs:{label:"插件管理",name:"fourth"}},[a("plung-list",{attrs:{teamName:e.activeTeamName}})],1)],1)],1)},l=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{attrs:{type:"primary"}},[e._v("添加用户(开发中)")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"250"}},[a("el-table-column",{attrs:{fixed:"",prop:"userName",label:"用户名",width:"150"}}),a("el-table-column",{attrs:{prop:"email",label:"邮箱",width:"120"}}),a("el-table-column",{attrs:{prop:"phone",label:"手机",width:"120"}}),a("el-table-column",{attrs:{prop:"role",label:"角色",width:"120"}}),a("el-table-column",{attrs:{prop:"defaultTeamName",label:"默认团队",width:"120"}}),a("el-table-column",{attrs:{prop:"createDate",label:"创建时间",width:"120"}}),a("el-table-column",{attrs:{prop:"state",label:"是否启用",width:"120"}}),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleClick(t.row)}}},[e._v("编辑")])]}}])})],1),a("el-pagination",{attrs:{"current-page":1,"page-size":10,layout:"total,  prev, pager, next",total:this.tableDataLength},on:{"current-change":e.handleCurrentChange}}),e.editUserVisible?a("el-dialog",{attrs:{visible:e.editUserVisible},on:{"update:visible":function(t){e.editUserVisible=t}}},[a("user-info",{attrs:{userInfoJson:e.activeUserInfo},on:{userSave:e.getUserListByTeam}})],1):e._e()],1)},s=[],o=a("ec9b"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-switch",{attrs:{"active-text":"启用","inactive-text":"不启用"},model:{value:e.state,callback:function(t){e.state=t},expression:"state"}}),a("br"),a("br"),a("br"),a("el-radio-group",{on:{change:e.setPermissions},model:{value:e.role,callback:function(t){e.role=t},expression:"role"}},[a("el-radio-button",{attrs:{label:"dev"}},[e._v("开发者")]),a("el-radio-button",{attrs:{label:"manager"}},[e._v("管理者")]),a("el-radio-button",{attrs:{label:"supperManager"}},[e._v("超级管理者")])],1),a("el-tree",{ref:"tree",attrs:{"default-expand-all":"",data:e.items,"show-checkbox":"","node-key":"index","highlight-current":"","default-checked-keys":e.checkedKeys,props:e.defaultProps},on:{"node-click":e.handleNodeClick}}),a("el-button",{on:{click:e.saveUserPermissions}},[e._v("保存")])],1)},c=[],u=(a("6b54"),a("2909")),d=(a("28a5"),{props:{userInfoJson:String},created:function(){this.userInfo=JSON.parse(this.userInfoJson),this.role=this.userInfo.role,this.checkedKeys=this.userInfo.permissions.split(","),this.permissions=this.userInfo.permissions.split(","),this.state="true"===this.userInfo.state},data:function(){return{state:!0,userInfo:{},role:"dev",checkedKeys:["dashboard","model","messageList","3","dataQuery","upload"],expandedKeys:[],items:[{icon:"el-icon-lx-home",index:"dashboard",title:"系统首页"},{icon:"el-icon-lx-cascades",index:"model",title:"模型开发"},{icon:"el-icon-chat-dot-round",index:"messageList",title:"消息中心"},{icon:"el-icon-lx-calendar",index:"3",title:"数据查询",subs:[{index:"dataQuery",title:"SQL查询"},{index:"runSqlLog",title:"SQL查询日志"},{index:"RequestLog",title:"WEB请求日志"}]},{icon:"el-icon-coin",index:"/ds",title:"数据源管理"},{icon:"el-icon-tickets",index:"/JobList",title:"任务列表"},{icon:"el-icon-pie-chart",index:"charts",title:"schart图表"},{icon:"el-icon-rank",index:"6",title:"拖拽组件",subs:[{index:"drag",title:"拖拽列表"},{index:"dialog",title:"拖拽弹框"}]},{icon:"el-icon-lx-global",index:"i18n",title:"国际化功能"},{icon:"el-icon-lx-warn",index:"7",title:"错误处理",subs:[{index:"permission",title:"权限测试"},{index:"404",title:"404页面"}]},{icon:"el-icon-lx-redpacket_fill",index:"/donate",title:"支持作者"},{icon:"el-icon-lx-global",index:"teamManager",title:"团队管理"},{icon:"el-icon-monitor",index:"JobTriggerList",title:"任务监控"},{icon:"el-icon-lx-global",index:"PlugList",title:"temp_任务编辑"}],defaultProps:{children:"subs",label:"title"},permissions:[]}},methods:{handleNodeClick:function(e){console.log(e)},setPermissions:function(){"dev"===this.role?this.$refs.tree.setCheckedKeys(["dashboard","model","messageList","3","dataQuery","upload","charts","6"]):"manager"===this.role?this.$refs.tree.setCheckedKeys(["dashboard","model","messageList","3","dataQuery","runSqlLog","upload","/ds","/JobList","charts","6"]):this.$refs.tree.setCheckedKeys(["dashboard","model","messageList","3","dataQuery","runSqlLog","upload","/ds","/JobList","charts","6","drag","dialog","i18n","7","permission","404","/donate"])},saveUserPermissions:function(){var e=this,t=[];t.push.apply(t,Object(u["a"])(this.$refs.tree.getCheckedKeys())),this.permissions=t,Object(o["a"])({url:"/user/saveUserPermissions",methods:"get",params:{teamName:this.userInfo.teamName,userName:this.userInfo.userName,permissions:this.permissions.toString(),role:this.role,state:this.state.toString()}}).then((function(t){console.log(t),e.$message({type:"success",message:"保存成功!"}),e.$emit("userSave")})).catch((function(e){console.log("==================="),console.log(e)}))}}}),m=d,h=a("2877"),b=Object(h["a"])(m,r,c,!1,null,null,null),f=b.exports,p={components:{UserInfo:f},props:{teamName:String},data:function(){return{tableData:[],pageIndex:1,tableDataLength:0,editUserVisible:!1,activeUserInfo:""}},created:function(){console.log(this.teamName),this.getUserListByTeam(this.teamName)},methods:{handleClick:function(e){console.log(e),this.activeUserInfo=JSON.stringify(e),this.editUserVisible=!0},handleCurrentChange:function(e){this.pageIndex=e,this.getUserListByTeam(this.teamName),console.log("当前页: ".concat(e))},getUserListByTeam:function(e){var t=this;Object(o["a"])({url:"/user/getUserListByTeamName",methods:"get",params:{teamName:this.teamName,pageIndex:this.pageIndex}}).then((function(e){t.tableData=e.data,t.tableDataLength=e.dataLength,console.log(e)})).catch((function(e){console.log("==================="),console.log(e)}))},getUserList:function(){}}},g=p,v=Object(h["a"])(g,i,s,!1,null,null,null),y=v.exports,x=a("6ba9"),L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.edit=!e.edit}}},[e._v("编辑")]),e.edit?a("el-button",{attrs:{type:"primary"},on:{click:e.addLevel}},[e._v("添加")]):e._e(),e.edit?a("el-button",{attrs:{type:"primary"},on:{click:e.saveLevelData}},[e._v("保存")]):e._e(),e._l(e.levelData,(function(t,n){return a("el-form",{key:n,staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"层级中文名"}},[a("el-input",{model:{value:t.label,callback:function(a){e.$set(t,"label",a)},expression:"item.label"}})],1),a("el-form-item",{attrs:{label:"层级英文名"}},[a("el-input",{model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}})],1),a("el-form-item",[e.edit?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.delLevel(n)}}},[e._v("删除")]):e._e()],1)],1)}))],2)},k=[],N={props:{teamName:String},data:function(){return{levelData:[],edit:!1}},created:function(){this.levelData.push({label:"",value:""}),this.teamName="cmsh_team",this.getLevelData()},methods:{saveLevelData:function(){Object(o["b"])("/team/saveTeamLevel",{levelData:JSON.stringify(this.levelData),teamName:this.teamName}).then((function(e){})).catch((function(e){}))},getLevelData:function(){var e=this;Object(o["a"])({url:"/team/getTeamLevel",methods:"get",params:{teamName:this.teamName}}).then((function(t){e.levelData=t.data})).catch((function(e){}))},addLevel:function(){this.levelData.push({label:"",value:""})},delLevel:function(e){console.log(e),this.levelData.splice(e,1)},onSubmit:function(){console.log("submit!")}}},_=N,D=Object(h["a"])(_,L,k,!1,null,null,null),S=D.exports,w=a("4fb8"),I={components:{UserList:y,DsList:x["default"],LavelManager:S,PlungList:w["default"]},data:function(){return{activeTeamName:"cmsh_team",activeName:"fourth"}},methods:{handleClick:function(e,t){console.log(e,t);for(var a=[1,2,3],n=[1,2,3],l=[1,2,3],i=[],s=0;s<a.length;s++)i.push({c1:a[s],c2:n[s],c3:l[s]});i=i.filter((function(e,t,a){return a.indexOf(e)==t})),console.log(i)}}},O=I,U=Object(h["a"])(O,n,l,!1,null,null,null);t["default"]=U.exports}}]);