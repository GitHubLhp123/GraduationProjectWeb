(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e13b5"],{"7a0e":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"handle-box"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{staticClass:"handle-input mr10",nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getLogListData()}},model:{value:e.query.userName,callback:function(t){e.$set(e.query,"userName",t)},expression:"query.userName"}})],1),a("el-form-item",{attrs:{label:"团队名"}},[a("el-input",{staticClass:"handle-input mr10",nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getLogListData()}},model:{value:e.query.teamName,callback:function(t){e.$set(e.query,"teamName",t)},expression:"query.teamName"}})],1),a("el-form-item",{attrs:{label:"url"}},[a("el-input",{staticClass:"handle-input mr10",nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getLogListData()}},model:{value:e.query.url,callback:function(t){e.$set(e.query,"url",t)},expression:"query.url"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.getLogListData()}}})],1)],1)],1),a("el-table",{ref:"logDataList",staticClass:"table",attrs:{data:e.logDataList,border:"","header-cell-class-name":"table-header"},model:{value:e.logDataList,callback:function(t){e.logDataList=t},expression:"logDataList"}},[a("el-table-column",{attrs:{prop:"userName",label:"用户名",align:"left"}}),a("el-table-column",{attrs:{prop:"args",label:"参数列表",align:"left"}}),""!==e.query.teamName?a("el-table-column",{attrs:{prop:"teamName",label:"团队名",align:"left"}}):e._e(),a("el-table-column",{attrs:{prop:"requestWay",label:"请求方式",align:"left"}}),a("el-table-column",{attrs:{prop:"url",label:"url",align:"left"}}),a("el-table-column",{attrs:{prop:"ip",label:"ip",align:"left"}}),a("el-table-column",{attrs:{prop:"createDt",label:"执行时间",align:"left"}})],1),a("div",[e._v("\n\n        利用AOP来实现记录请求信息，但是现在MONGODB崩了\n    ")]),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":1,"page-sizes":[10,20,50,100],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:this.pageTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},n=[],r=a("ec9b"),i={name:"RequestLog",data:function(){return{pageTotal:0,query:{userName:"",teamNAme:"",url:"",pageIndex:1,pageSize:10},logDataList:[]}},created:function(){this.getLogListData()},methods:{handleSizeChange:function(e){this.query.pageSize=e,this.getLogListData(),console.log("每页 ".concat(e," 条"))},handleCurrentChange:function(e){this.query.pageIndex=e,this.getLogListData(),console.log("当前页: ".concat(e))},getLogListData:function(){var e=this;Object(r["a"])({url:"/user/getRequestLog",methods:"get",params:{teamName:this.query.teamName,userName:this.query.userName,url:this.query.url,pageNum:this.query.pageIndex,pageSize:this.query.pageSize}}).then((function(t){e.logDataList=t.data,e.pageTotal=t.dataLength})).catch((function(e){console.log("==================="),console.log(e)}))}}},s=i,o=a("2877"),u=Object(o["a"])(s,l,n,!1,null,"319bcb4d",null);t["default"]=u.exports}}]);